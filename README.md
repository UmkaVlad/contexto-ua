# Contexto UA

Українська версія гри **Contexto**: знайди секретне слово за контекстною подібністю слів.

- **Веб**: спочатку запустіть бекенд, потім відкрийте фронтенд (або один сервер віддає і API, і сторінку).
- **Мобільний додаток**: фронтенд уже адаптований під екран (viewport, великі кнопки); далі можна обгорнути в Cordova / Capacitor / PWA.

## Як запустити (веб)

1. Встановіть залежності бекенду:
   ```bash
   cd game_files
   python3 -m venv .venv
   source .venv/bin/activate   # Windows: .venv\Scripts\activate
   pip install -r backend/requirements.txt
   ```

2. Запустіть сервер з кореня `game_files` (щоб знаходились `index.dic` та `embeddings.pt`):
   ```bash
   cd game_files
   uvicorn backend.contexto_backend:app --host 0.0.0.0 --port 8000
   ```

3. Відкрийте в браузері: **http://localhost:8000/**  
   Сайт і API працюють з одного порту.

Якщо фронтенд відкриваєте окремо (наприклад, `file://` або інший порт), вкажіть базовий URL API, наприклад у `frontend/index.html` перед підключенням `app.js`:
```html
<script>window.API_BASE = 'http://localhost:8000/api';</script>
<script src="js/app.js"></script>
```

## Файли проєкту

- **index.dic** — словник українських слів (порядок збігається з embeddings).
- **embeddings.pt** — тензор подібностей (PyTorch); якщо його немає, позиції генеруються псевдовипадково.
- **backend/** — FastAPI: парсинг словника, завантаження embeddings, API `/api/words`, `/api/guess`, `/api/hint`, `/api/reveal`.
- **frontend/** — одна сторінка: головне меню (CONTEXTO, рівні, кнопка старту), екран гри (введення слова, список здогадок з позиціями та кольоровими барами), меню (натяк, здатися, попередні ігри, налаштування).

## Правила

- Секретне слово має позицію **1**. Решта слів відсортовані за подібністю (алгоритм на основі embeddings).
- **Зелені** бари: позиції 1–300. **Помаранчеві**: 301–1500. **Червоні**: понад 1500.
- Необмежена кількість спроб. Натяк — одне слово з діапазону 50–300 (витрачає монети). «Здатися» показує секретне слово.

## Мобільний додаток (далі)

- Інтерфейс вже адаптований під вузький екран і сенсор.
- Можна зробити PWA (`manifest.json`, Service Worker) або зібрати нативний обгорткою (Capacitor/Cordova), вказавши `API_BASE` на ваш сервер або локальний бекенд.
